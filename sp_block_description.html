<div class="group description-section">
  <div class="group-title">
    <span>📝 商品の説明</span>
  </div>

  <!-- 商品の説明欄（プレビュー） -->
  <div style="margin-bottom: 12px;">
    <label style="display: flex; justify-content: space-between; align-items: center;">
      <span>商品の説明</span>
      <span class="counter" id="descCounter">
        <span id="descCount">0</span>/<span id="descMax">1000</span> 文字
      </span>
    </label>
    <textarea
      id="商品の説明"
      placeholder="商品の状態・素材・サイズ感・ディテール・注意点などを記入してください"
      readonly
      style="background-color: #f8f9fa; margin-top: 4px; min-height: 120px; resize: none;"
    ></textarea>
  </div>

  <!-- ボタン -->
  <div style="display: flex; gap: 8px; margin-bottom: 16px;">
    <button type="button" onclick="generateAiDescription()" id="aiGenBtn"
            style="flex: 1; padding: 8px 12px; font-size: 13px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 6px; cursor: pointer; color: white; font-weight: 600; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
      ✨ AI生成
    </button>
    <button type="button" onclick="copyToClipboard('商品の説明', 'copyDescBtn')" id="copyDescBtn"
            style="flex: 1; padding: 8px 12px; font-size: 13px; background: white; border: 2px solid #10b981; border-radius: 6px; cursor: pointer; color: #10b981; font-weight: 600;">
      📋 説明をコピー
    </button>
  </div>

  <!-- サイズ情報セクション -->
  <div id="sizeSection" style="display: none;">
    <div class="form-section" style="margin-bottom: 12px;">
      <h3 class="section-title">
        <span class="section-icon" id="sizeIconDisplay">👕</span><span id="sizeLabelDisplay">サイズ</span>
      </h3>
      <div class="section-content">
      <!-- トップス/アウター用サイズ -->
      <div id="topsSize" style="display: none;">
        <!-- サイズ(表記) -->
        <div style="margin-bottom: 12px;">
          <label style="font-weight: 600; color: #374151; margin-bottom: 4px; display: block;">サイズ(表記)</label>
          <select id="サイズ(表記)_トップス" style="width: 100%;">
            <option value="">--</option>
          </select>
        </div>

        <!-- サイズ(実寸) -->
        <div style="margin-bottom: 8px;">
          <label style="font-weight: 600; color: #374151; margin-bottom: 4px; display: block;">サイズ(実寸)</label>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 4px;">
          <div>
            <label class="small" id="shoulderWidthLabel">肩幅</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="肩幅" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
          <div>
            <label class="small">身幅</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="身幅" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
          <div>
            <label class="small">袖丈</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="袖丈" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
          <div>
            <label class="small">着丈</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="着丈" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
        </div>
      </div>

      <!-- パンツ用サイズ -->
      <div id="bottomsSize" style="display: none;">
        <!-- サイズ(表記) -->
        <div style="margin-bottom: 12px;">
          <label style="font-weight: 600; color: #374151; margin-bottom: 4px; display: block;">サイズ(表記)</label>
          <select id="サイズ(表記)_ボトムス" style="width: 100%;">
            <option value="">--</option>
          </select>
        </div>

        <!-- サイズ(実寸) -->
        <div style="margin-bottom: 8px;">
          <label style="font-weight: 600; color: #374151; margin-bottom: 4px; display: block;">サイズ(実寸)</label>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 4px;">
          <div>
            <label class="small">ウエスト</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="ウエスト" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
          <div>
            <label class="small">ヒップ</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="ヒップ" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
          <div>
            <label class="small">股上</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="股上" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
          <div>
            <label class="small">股下</label>
            <div style="display: flex; align-items: center; gap: 4px;">
              <select id="股下" style="flex: 1;">
                <option value="">--</option>
              </select>
              <span style="font-size: 12px; color: #6b7280;">cm</span>
            </div>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>

  <!-- カラー(詳細)セクション -->
  <div class="form-section" style="margin-bottom: 12px;">
    <h3 class="section-title">
      <span class="section-icon">🎨</span>カラー(詳細)
    </h3>
    <div class="section-content">
      <div id="colorList">
        <!-- 初期表示は1セット -->
        <div class="color-item" data-index="1">
          <div class="color-header">
            <span>カラー 1</span>
            <button type="button" class="remove-color-btn" onclick="removeColor(1)" style="display:none;">削除</button>
          </div>

          <div class="color-fields">
            <label>色:
              <select id="カラー1" class="color-select">
                <option value="">--</option>
              </select>
            </label>
          </div>
        </div>
      </div>

      <button type="button" id="addColorBtn" class="add-color-btn">+ カラーを追加</button>
    </div>
  </div>

  <!-- 商品状態(詳細)セクション -->
  <div class="form-section" style="margin-bottom: 12px;">
    <h3 class="section-title">
      <span class="section-icon">📋</span>商品状態(詳細)
    </h3>
    <div class="section-content">
      <!-- クイック挿入ボタン群 -->
      <div id="quickInsertButtonsContainer" class="quick-insert-buttons" style="margin-bottom: 8px;">
        <!-- ボタンは「商品の状態」に応じて動的に表示 -->
      </div>

      <!-- オートコンプリート対応のテキストエリア -->
      <div style="position: relative;">
        <textarea
          id="商品状態詳細"
          rows="3"
          placeholder="商品の詳細な状態を入力してください（傷、汚れ、使用感など）"
        ></textarea>
        <div id="suggest-商品状態詳細" class="suggest" hidden></div>
      </div>
    </div>
  </div>

  <!-- 素材入力セクション -->
  <div class="form-section" style="margin-bottom: 12px;">
    <h3 class="section-title">
      <span class="section-icon">🧵</span>素材
    </h3>
    <div class="section-content">
      <div id="materialList">
        <!-- 初期表示は1セット -->
        <div class="material-item" data-index="1">
          <div class="material-header">
            <span>素材 1</span>
            <button type="button" class="remove-material-btn" onclick="removeMaterial(1)"
style="display:none;">削除</button>
          </div>

          <div class="material-fields">
            <label>箇所:
              <select id="素材1_箇所" class="material-location">
                <option value="">--</option>
              </select>
            </label>

            <div class="material-composition">
              <div class="composition-row">
                <label>種類:
                  <select id="素材1_種類1" class="material-type">
                    <option value="">--</option>
                  </select>
                </label>
                <label>割合:
                  <input type="number" id="素材1_％1" class="material-percent" min="0" max="100" placeholder="%">
                </label>
              </div>

              <div class="composition-row">
                <label>種類:
                  <select id="素材1_種類2" class="material-type">
                    <option value="">--</option>
                  </select>
                </label>
                <label>割合:
                  <input type="number" id="素材1_％2" class="material-percent" min="0" max="100" placeholder="%">
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <button type="button" id="addMaterialBtn" class="add-material-btn">+ 素材を追加</button>
    </div>
  </div>

  <!-- AI生成用 追加属性（折りたたみ可能） -->
  <div class="form-section" style="margin-bottom: 12px;">
    <h3 class="section-title collapsible-header" onclick="toggleCollapse('aiAttributesSection')" style="cursor: pointer; user-select: none;">
      <span class="section-icon">✨</span>AI生成用 追加属性
      <span id="aiAttributesToggle" style="margin-left: auto; font-size: 12px; color: #6b7280;">▼</span>
    </h3>
    <div id="aiAttributesSection" class="section-content collapsible-content" style="display: none;">
      <div style="font-size: 11px; color: #6b7280; margin-bottom: 8px; padding: 8px; background: #eff6ff; border-radius: 4px;">
        💡 ここで選択した属性はAI生成時のみ使用され、商品名には影響しません。<br>
        より詳細な説明文を生成したい場合に活用してください。
      </div>

      <div style="position: relative; margin-bottom: 12px;">
        <textarea
          id="AI用商品属性"
          rows="3"
          placeholder="商品の詳細な属性を入力してください（例: ヴィンテージ、90年代、USA製、希少、限定品、タグ付き、デッドストック）&#10;&#10;カンマ区切りで複数入力可能です。"
          style="width: 100%; padding: 10px; border: 2px solid #d1d5db; border-radius: 6px; font-size: 13px; font-family: inherit; resize: vertical;"
        ></textarea>
        <div style="font-size: 11px; color: #6b7280; margin-top: 4px;">
          例: ヴィンテージ、90年代、USA製、希少、限定品
        </div>
      </div>

      <!-- 品番・型番入力 -->
      <div style="margin-top: 12px;">
        <label style="font-size: 13px; font-weight: 600; color: #374151; margin-bottom: 4px; display: block;">
          🔢 品番・型番（ブランド品の場合）
        </label>
        <input
          type="text"
          id="品番型番"
          placeholder="例: 555088-101, DM0522-100, FW23-M001"
          style="width: 100%; padding: 10px; border: 2px solid #d1d5db; border-radius: 6px; font-size: 13px;"
        />
        <div style="font-size: 11px; color: #6b7280; margin-top: 4px; padding: 6px 8px; background: #fef3c7; border-radius: 4px; border-left: 3px solid #f59e0b;">
          ⚡ 品番を入力すると、AIがGoogle検索で最新の商品情報を調べ、より詳細で正確な説明文を生成します
        </div>
      </div>
    </div>
  </div>

  <!-- 割引情報選択（折りたたみ可能） -->
  <div class="form-section" style="margin-bottom: 12px;">
    <h3 class="section-title collapsible-header" onclick="toggleCollapse('discountSection')" style="cursor: pointer; user-select: none;">
      <span class="section-icon">💰</span>割引情報
      <span id="discountToggle" style="margin-left: auto; font-size: 12px; color: #6b7280;">▼</span>
    </h3>
    <div id="discountSection" class="section-content collapsible-content" style="display: none;">
      <div id="discountCheckboxContainer" style="padding: 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px;">
        <!-- 割引情報チェックボックスが動的に生成される -->
        <div style="font-size: 11px; color: #6b7280; text-align: center;">読み込み中...</div>
      </div>
    </div>
  </div>

  <!-- オリジナルハッシュタグ選択（折りたたみ可能） -->
  <div class="form-section" style="margin-bottom: 12px;">
    <h3 class="section-title collapsible-header" onclick="toggleCollapse('hashtagSection')" style="cursor: pointer; user-select: none;">
      <span class="section-icon">🏷️</span>オリジナルハッシュタグ
      <span id="hashtagToggle" style="margin-left: auto; font-size: 12px; color: #6b7280;">▼</span>
    </h3>
    <div id="hashtagSection" class="section-content collapsible-content" style="display: none;">
      <div id="hashtagCheckboxContainer" style="padding: 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px;">
        <!-- ハッシュタグチェックボックスが動的に生成される -->
        <div style="font-size: 11px; color: #6b7280; text-align: center;">読み込み中...</div>
      </div>
    </div>
  </div>
</div>
