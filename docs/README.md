# REBORNåœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€REBORNåœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å„ç¨®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ“š ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

- **[Firestoreãƒ‡ãƒ¼ã‚¿æ§‹é€ ](./firestore-structure.md)** ğŸ†•
  - Firestoreã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’æ—¥æœ¬èªã§ç†è§£ã™ã‚‹ãŸã‚ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
  - Firebase Consoleã§è¦‹ãˆã‚‹è‹±èªè¡¨è¨˜ã‚’æ—¥æœ¬èªã§èª¬æ˜
  - ãƒ‡ãƒ¼ã‚¿ã®è¦‹æ–¹ã€å‰Šé™¤ãƒ«ãƒ¼ãƒ«ã€ã‚ˆãã‚ã‚‹æ“ä½œæ–¹æ³•

### é–‹ç™ºã‚¬ã‚¤ãƒ‰

- **[TDDé–‹ç™ºãƒãƒªã‚·ãƒ¼](./TDD_POLICY.md)**
  - Issueç®¡ç†ãƒ«ãƒ¼ãƒ«
  - TDDé©ç”¨åˆ¤æ–­åŸºæº–
  - é–‹ç™ºãƒ•ãƒ­ãƒ¼

### Issueç®¡ç†

- **[Issueä¸€è¦§ã‚µãƒãƒªãƒ¼](./issues-summary.md)**
  - æœªå®Œäº†Issueæ•°ã¨å„ªå…ˆåº¦åˆ¥å†…è¨³ï¼ˆè»½é‡ç‰ˆï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã«å¿…ãšç¢ºèª

- **[è©³ç´°Issueä¸€è¦§](./issues.md)**
  - å…¨Issueè©³ç´°ï¼ˆå¤§å®¹é‡ã€éƒ¨åˆ†æ¤œç´¢æ¨å¥¨ï¼‰

- **[å®Œäº†Issueä¸€è¦§](./issues-closed.md)**
  - è§£æ±ºæ¸ˆã¿Issueå±¥æ­´

---

## ğŸ”¥ Firebaseé–¢é€£

### Firestore Database

- **[Firestoreãƒ‡ãƒ¼ã‚¿æ§‹é€ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./firestore-structure.md)** ğŸ‘ˆ **ãŠã™ã™ã‚ï¼**
  - ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§ã¨æ—¥æœ¬èªå¯¾å¿œè¡¨
  - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®èª¬æ˜
  - ãƒ‡ãƒ¼ã‚¿ã®è¦‹æ–¹ãƒ»å‰Šé™¤æ–¹æ³•

- **[Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«](./firestore.rules)**
  - ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒ«ãƒ¼ãƒ«
  - ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰: `npx firebase deploy --only firestore:rules --project reborn-chat`

### Firebase Functions

- **[Firebase Functions v2](../functions/index.js)**
  - å•†å“ç™»éŒ²æ™‚ã®FCMé€šçŸ¥ãƒ»ãƒãƒƒã‚¸å‡¦ç†
  - ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰: `npx firebase deploy --only functions --project reborn-chat`

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•

### PWAç‰ˆï¼ˆdocs/é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ™‚ï¼‰

```bash
git add .
git commit -m "å¤‰æ›´å†…å®¹"
git push origin main
# Cloudflare PagesãŒè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```

### GASç‰ˆï¼ˆGASãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ™‚ï¼‰

```bash
npx @google/clasp push
npx @google/clasp deploy --deploymentId AKfycbx6ybbRLDqKQJ8IR-NPoVP8981Gtozzz0N3880XanEGRS4--iZtset8PFrVcD_u9YAHMA --description "å¤‰æ›´å†…å®¹"
```

### Firebase Functionsï¼ˆfunctions/é…ä¸‹ã®å¤‰æ›´æ™‚ï¼‰

```bash
cd functions
npm install  # ä¾å­˜é–¢ä¿‚æ›´æ–°æ™‚ã®ã¿
cd ..
npx firebase deploy --only functions --project reborn-chat
```

### Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

```bash
npx firebase deploy --only firestore:rules --project reborn-chat
```

---

## ğŸ“– ã‚ˆãã‚ã‚‹è³ªå•

### Q1. Firestoreã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³åãŒè‹±èªã§åˆ†ã‹ã‚Šã«ãã„

â†’ **[Firestoreãƒ‡ãƒ¼ã‚¿æ§‹é€ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./firestore-structure.md)** ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
å„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ—¥æœ¬èªèª¬æ˜ãŒã‚ã‚Šã¾ã™ã€‚

### Q2. æœªèª­ãƒãƒƒã‚¸ãŒæ¶ˆãˆãªã„

â†’ Firebase Console â†’ Firestore Database â†’ `rooms/{roomId}/unreadCounts/{è‡ªåˆ†ã®ãƒ¡ãƒ¼ãƒ«}` ã® `unreadCount` ã‚’ `0` ã«è¨­å®š

### Q3. å•†å“ç™»éŒ²ã—ã¦ã‚‚é€šçŸ¥ãŒæ¥ãªã„

â†’ Firebase Functions ã®ãƒ­ã‚°ã‚’ç¢ºèª:
```bash
npx firebase functions:log --project reborn-chat
```

### Q4. ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

â†’ `rooms/system` ã¨ `rooms/room_default_all` ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª

---

## ğŸ› ï¸ é–‹ç™ºç’°å¢ƒ

- **PWA**: Cloudflare Pages
- **GAS**: Google Apps Script
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Firestore
- **é€šçŸ¥**: Firebase Cloud Messaging (FCM)
- **Functions**: Firebase Functions v2

---

**æœ€çµ‚æ›´æ–°**: 2025-11-22
